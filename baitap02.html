<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>B√†i 2: Form ƒêƒÉng k√Ω</title>
    <link rel="stylesheet" href="css/style.css">
</head>
<body>
    <header>
        <div class="container">
            <h1>B√†i T·∫≠p L·∫≠p Tr√¨nh Web</h1>
            <nav>
                <ul>
                    <li><a href="index.html">Trang ch·ªß</a></li>
                    <li><a href="baitap01.html">B√†i 1: S·∫£n ph·∫©m</a></li>
                    <li><a href="baitap02.html" class="active">B√†i 2: ƒêƒÉng k√Ω</a></li>
                    <li><a href="baitap03.html">B√†i 3: ƒê·∫øm ng∆∞·ª£c</a></li>
                    <li><a href="about.html">Gi·ªõi thi·ªáu</a></li>
                    <li><a href="contact.html">Li√™n h·ªá</a></li>
                </ul>
            </nav>
        </div>
    </header>

    <main class="container">
        <section class="baitap-header">
            <h2>B√†i t·∫≠p 2: Form ƒêƒÉng k√Ω (20 ƒëi·ªÉm)</h2>
            <p class="description">Validate v√† l∆∞u d·ªØ li·ªáu ng∆∞·ªùi d√πng v√†o b·ªô nh·ªõ</p>
        </section>

        <section class="form-section">
            <div class="form-container">
                <form id="registerForm" novalidate>
                    <div class="form-group">
                        <label for="userName">T√™n ng∆∞·ªùi d√πng <span class="required">*</span></label>
                        <input type="text" id="userName" name="userName" placeholder="Nh·∫≠p h·ªç v√† t√™n" required>
                        <span class="error-text" id="nameError"></span>
                    </div>

                    <div class="form-group">
                        <label for="userEmail">Email <span class="required">*</span></label>
                        <input type="email" id="userEmail" name="userEmail" placeholder="example@email.com" required>
                        <span class="error-text" id="emailError"></span>
                    </div>

                    <div class="form-group">
                        <label for="userPassword">M·∫≠t kh·∫©u <span class="required">*</span></label>
                        <div class="password-wrapper">
                            <input type="password" id="userPassword" name="userPassword" placeholder="Nh·∫≠p m·∫≠t kh·∫©u" required>
                            <button type="button" id="togglePassword" class="toggle-password" aria-label="Hi·ªán/·∫©n m·∫≠t kh·∫©u">üëÅÔ∏è</button>
                        </div>
                        <span class="error-text" id="passwordError"></span>
                        <span class="hint">√çt nh·∫•t 8 k√Ω t·ª±, c√≥ ch·ªØ hoa, ch·ªØ th∆∞·ªùng v√† s·ªë</span>
                    </div>

                    <div class="form-group checkbox-group">
                        <label>
                            <input type="checkbox" id="agreeTerms" name="agreeTerms" required>
                            T√¥i ƒë·ªìng √Ω v·ªõi <a href="#" class="terms-link" onclick="alert('ƒê√¢y l√† n·ªôi dung ƒëi·ªÅu kho·∫£n s·ª≠ d·ª•ng'); return false;">ƒëi·ªÅu kho·∫£n s·ª≠ d·ª•ng</a>
                        </label>
                        <span class="error-text" id="termsError"></span>
                    </div>

                    <div class="form-actions">
                        <button type="submit" class="btn btn-primary">ƒêƒÉng k√Ω</button>
                        <button type="button" id="clearForm" class="btn btn-secondary">X√≥a form</button>
                    </div>
                </form>

                <div id="successMessage" class="success-message"></div>
            </div>

            <div class="registered-users">
                <h3>Danh s√°ch ng∆∞·ªùi d√πng ƒë√£ ƒëƒÉng k√Ω:</h3>
                <div id="usersList"></div>
                <button id="clearStorage" class="btn btn-danger">X√≥a t·∫•t c·∫£ d·ªØ li·ªáu</button>
            </div>
        </section>

        <section class="logic-explanation">
            <h3>üìù Gi·∫£i th√≠ch Logic t∆∞ duy:</h3>
            <div class="explanation-box">
                <h4>1. X·ª≠ l√Ω s·ª± ki·ªán Submit:</h4>
                <ul>
                    <li><strong>preventDefault():</strong> NgƒÉn form submit m·∫∑c ƒë·ªãnh (reload page) ƒë·ªÉ x·ª≠ l√Ω b·∫±ng JavaScript - cho ph√©p ki·ªÉm so√°t ho√†n to√†n flow</li>
                    <li><strong>novalidate attribute:</strong> T·∫Øt HTML5 validation m·∫∑c ƒë·ªãnh ƒë·ªÉ t·ª± x√¢y d·ª±ng validation logic chi ti·∫øt h∆°n</li>
                    <li><strong>Event Delegation:</strong> G·∫Øn listener l√™n form thay v√¨ t·ª´ng input - gi·∫£m s·ªë l∆∞·ª£ng listeners, t·ªëi ∆∞u performance</li>
                    <li><strong>Form-level Validation:</strong> Ki·ªÉm tra to√†n b·ªô form m·ªôt l·∫ßn tr∆∞·ªõc khi submit - ƒë·∫£m b·∫£o t·∫•t c·∫£ tr∆∞·ªùng ƒë·ªÅu h·ª£p l·ªá</li>
                    <li><strong>Focus Management:</strong> T·ª± ƒë·ªông focus v√†o tr∆∞·ªùng l·ªói ƒë·∫ßu ti√™n ƒë·ªÉ c·∫£i thi·ªán UX</li>
                </ul>

                <h4>2. Validation Rules Chi ti·∫øt:</h4>
                <ul>
                    <li><strong>Name Validation:</strong> 
                        <ul>
                            <li>T·ªëi thi·ªÉu 2 k√Ω t·ª± - lo·∫°i b·ªè input kh√¥ng h·ª£p l·ªá</li>
                            <li>Trim whitespace - x·ª≠ l√Ω kho·∫£ng tr·∫Øng th·ª´a ƒë·∫ßu/cu·ªëi</li>
                            <li>Sanitize tr∆∞·ªõc khi l∆∞u - tr√°nh XSS</li>
                        </ul>
                    </li>
                    <li><strong>Email Validation:</strong> 
                        <ul>
                            <li>RegEx pattern: <code>/^[a-zA-Z0-9._-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,6}$/</code></li>
                            <li>Ki·ªÉm tra format c∆° b·∫£n: local@domain.tld</li>
                            <li>Kh√¥ng cho ph√©p email c√≥ k√Ω t·ª± ƒë·∫∑c bi·ªát nguy hi·ªÉm</li>
                            <li>Trong production: n√™n verify email b·∫±ng OTP/link x√°c nh·∫≠n</li>
                        </ul>
                    </li>
                    <li><strong>Password Validation (Strong Password):</strong> 
                        <ul>
                            <li>ƒê·ªô d√†i t·ªëi thi·ªÉu 8 k√Ω t·ª± - ti√™u chu·∫©n b·∫£o m·∫≠t c∆° b·∫£n</li>
                            <li>C√≥ √≠t nh·∫•t 1 ch·ªØ hoa (A-Z) - tƒÉng entropy</li>
                            <li>C√≥ √≠t nh·∫•t 1 ch·ªØ th∆∞·ªùng (a-z) - ƒëa d·∫°ng k√Ω t·ª±</li>
                            <li>C√≥ √≠t nh·∫•t 1 s·ªë (0-9) - th√™m ƒë·ªô ph·ª©c t·∫°p</li>
                            <li>C√≥ th·ªÉ th√™m: k√Ω t·ª± ƒë·∫∑c bi·ªát (!@#$%^&*) cho password m·∫°nh h∆°n</li>
                            <li>Kh√¥ng ch·ª©a th√¥ng tin c√° nh√¢n (t√™n, email) - tr√°nh d·ªÖ ƒëo√°n</li>
                        </ul>
                    </li>
                    <li><strong>Terms Checkbox:</strong> 
                        <ul>
                            <li>Required field - kh√¥ng cho submit n·∫øu ch∆∞a ƒë·ªìng √Ω</li>
                            <li>Link ƒë·∫øn ƒëi·ªÅu kho·∫£n th·ª±c t·∫ø - tu√¢n th·ªß ph√°p lu·∫≠t</li>
                        </ul>
                    </li>
                </ul>

                <h4>3. B·∫£o m·∫≠t d·ªØ li·ªáu trong In-Memory Storage:</h4>
                <ul>
                    <li><strong>T·∫°i sao KH√îNG d√πng localStorage:</strong>
                        <ul>
                            <li>localStorage kh√¥ng ƒë∆∞·ª£c h·ªó tr·ª£ trong m√¥i tr∆∞·ªùng Claude.ai artifacts</li>
                            <li>D·ªØ li·ªáu trong localStorage c√≥ th·ªÉ b·ªã ƒë·ªçc b·ªüi scripts kh√°c (XSS risk)</li>
                            <li>Kh√¥ng c√≥ c∆° ch·∫ø b·∫£o m·∫≠t t√≠ch h·ª£p - d·ªØ li·ªáu plain text</li>
                        </ul>
                    </li>
                    <li><strong>In-Memory Storage Implementation:</strong>
                        <ul>
                            <li>Object literal ƒë·ªÉ l∆∞u tr·ªØ: <code>const storage = { data: {} }</code></li>
                            <li>Data t·ªìn t·∫°i trong session - m·∫•t khi reload page</li>
                            <li>Kh√¥ng persist - ph√π h·ª£p cho demo/testing</li>
                            <li>Nhanh h∆°n localStorage v√¨ kh√¥ng c√≥ I/O disk</li>
                        </ul>
                    </li>
                    <li><strong>Password Hashing:</strong>
                        <ul>
                            <li>S·ª≠ d·ª•ng btoa() ƒë·ªÉ encode base64 - CH·ªà cho demo</li>
                            <li>Base64 KH√îNG ph·∫£i encryption - c√≥ th·ªÉ decode d·ªÖ d√†ng</li>
                            <li>Production PH·∫¢I d√πng: bcrypt, scrypt, argon2 ·ªü backend</li>
                            <li>KH√îNG BAO GI·ªú l∆∞u plaintext password</li>
                            <li>KH√îNG BAO GI·ªú hash password ·ªü frontend trong production</li>
                        </ul>
                    </li>
                    <li><strong>Input Sanitization:</strong>
                        <ul>
                            <li>Lo·∫°i b·ªè HTML tags tr∆∞·ªõc khi l∆∞u - tr√°nh stored XSS</li>
                            <li>Escape special characters: &lt;, &gt;, &amp;, ", '</li>
                            <li>Trim whitespace - clean data</li>
                            <li>Validate type v√† format - ƒë·∫£m b·∫£o data integrity</li>
                        </ul>
                    </li>
                    <li><strong>JSON Handling:</strong>
                        <ul>
                            <li>Try-catch khi parse JSON - x·ª≠ l√Ω corrupted data</li>
                            <li>Validate structure sau khi parse - ƒë·∫£m b·∫£o c√≥ ƒë·ªß fields</li>
                            <li>Default empty array n·∫øu kh√¥ng c√≥ data</li>
                        </ul>
                    </li>
                    <li><strong>Security Best Practices:</strong>
                        <ul>
                            <li>HTTPS only trong production - b·∫£o v·ªá data in transit</li>
                            <li>CSRF tokens cho form submission</li>
                            <li>Rate limiting ƒë·ªÉ tr√°nh brute force</li>
                            <li>Server-side validation LU√îN B·∫ÆT BU·ªòC - frontend c√≥ th·ªÉ bypass</li>
                        </ul>
                    </li>
                </ul>

                <h4>4. UX Improvements:</h4>
                <ul>
                    <li><strong>Toggle Password Visibility:</strong> Cho ph√©p user xem password khi typing - gi·∫£m l·ªói nh·∫≠p</li>
                    <li><strong>Real-time Feedback:</strong> Hi·ªÉn th·ªã l·ªói ngay khi blur kh·ªèi input - ph√°t hi·ªán l·ªói s·ªõm</li>
                    <li><strong>Success Animation:</strong> Hi·ªÉn th·ªã message th√†nh c√¥ng v·ªõi slide-down animation</li>
                    <li><strong>Clear Form Button:</strong> Reset to√†n b·ªô form v√† errors - ti·ªán l·ª£i cho user</li>
                    <li><strong>Display Registered Users:</strong> Hi·ªÉn th·ªã danh s√°ch users ƒë√£ ƒëƒÉng k√Ω - feedback tr·ª±c quan</li>
                    <li><strong>Confirm Dialog:</strong> X√°c nh·∫≠n tr∆∞·ªõc khi x√≥a t·∫•t c·∫£ data - tr√°nh thao t√°c nh·∫ßm</li>
                    <li><strong>Password Strength Indicator:</strong> C√≥ th·ªÉ th√™m m√†u ƒë·ªè/v√†ng/xanh ƒë·ªÉ ch·ªâ ƒë·ªô m·∫°nh password</li>
                    <li><strong>Auto-focus:</strong> Focus v√†o tr∆∞·ªùng ƒë·∫ßu ti√™n khi load page</li>
                </ul>

                <h4>5. Production Deployment Considerations:</h4>
                <ul>
                    <li><strong>Backend API:</strong> POST data ƒë·∫øn server endpoint (e.g., /api/register)</li>
                    <li><strong>Database:</strong> L∆∞u v√†o MySQL/PostgreSQL/MongoDB thay v√¨ memory</li>
                    <li><strong>Email Verification:</strong> G·ª≠i email x√°c nh·∫≠n sau khi ƒëƒÉng k√Ω</li>
                    <li><strong>reCAPTCHA:</strong> Th√™m CAPTCHA ƒë·ªÉ tr√°nh bot spam</li>
                    <li><strong>Session Management:</strong> T·∫°o session/JWT token sau khi ƒëƒÉng k√Ω th√†nh c√¥ng</li>
                    <li><strong>Error Logging:</strong> Log errors ra server ƒë·ªÉ monitor v√† debug</li>
                </ul>
            </div>
        </section>
    </main>

    <footer>
        <div class="container">
            <p>&copy; 2024 B√†i T·∫≠p Web - MSSV: 707-MSSV</p>
        </div>
    </footer>

    <script src="js/script.js"></script>
</body>
</html>